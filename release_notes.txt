Release Notes
=============

2.13.0
- Bugfix: simulate-variants no longer generates 0 length deletions (looking like Ref=A, Alt=A etc. in VCF)
- Improvements to alignment analysis plots
- Bugfix: Reads in long insertions now properly placed just after the anchoring reference base
- Enhancement: Improved CLI for processing/replotting alignment metrics. The CLI is now split into two subcommands. You no longer have to pass in the BAM and qname side-car file when you just want to replot an existing alignment metrics data file.


2.12.2

- 'd_err_strict' option added to partition-bams

2.12.1

- Bugfix: fixed tag error in partition_bams code
  Note: Partition BAMs is not parallelized and can only run serially through a BAM. For large BAMs (eg. > 50GB
  one will usually run out of memory)

2.12.0

- Changed alignment error algorithm
- Alignment analysis reports reinstated, now with further detail and break down by variant size
- Added utility program to plot variant size distrib in a VCF file


2.11.2

- Bugfix: other IUPAC codes will no longer appear in reads


2.11.0

- Simple variant simulation implemented

2.10.0

- BAM partitioner implemented


2.9.2

- Bugfix: Forgot to commit benchmarking/__init__.py


2.9.1

- Fixed ploidy sniffing (was previously only looking at first variant in region)
- Added sample empty VCF files for human male and female + instructions on how to
  take reference reads

2.9.0

- Added check for illegal overlaps in variants in variant filtering
- Fixed bug in filtering complex variants
- Adding programs to process eval.vcf from VCF benchmarking pipeline


2.8.7

- god-aligner now writes RG tag to reads (required for GATK)
- In read model description: Now plotting adjusted BQ, rather than simple average BQ

2.8.4

- Bugfix: PHRED (Base quality) score for perfect reads is now 40 ('I') to avoid confusing
  GATK and other tools that think 60 (the old value) is erroneous.

2.8.3

- Bugfix: bracketed entries and breakends are now discarded from VCF file


2.8.0 (Internal testing release)

- qnames > 254 now handled (uses side car file)
- md tag-like string used to describe read corruption for corrupted reads

2.7.3 (Internal testing release)

- t_len < r_len bug in Illumina model fixed
- queue length explicitly set to avoid out of memory errors in Linux

2.7.1 (Internal testing release)

- Reads from N regions are discarded.
  (Initially I thought to have this done via the bed file, but the reference is
   peppered with stretches of 'N's and it's cumbersome for the user to craft such
   a detailed BED file)

2.7.0 (Internal testing release)

- Added five empirical read models

2.6.0 (Internal testing release)

- MQ plots
- D_err plots
- New read model format
- Tool to extract read model from BAM
- Read corruption

2.5.0 (Internal testing release)

- Added god-aligner


2.4.0 (Internal testing release)

Algorithm changes
-----------------

- Read POS and CIGAR generation algorithm redesigned
- Ploidy of genome now inferred from VCF file.
  Simulation will properly handle XY chromosomes and polyploidy IF the VCF GT is properly set
- Standard BED file is used to select regions
  - BED file should avoid 'NNN' regions
- Read generation order is much less serial

Data changes
------------

- qname contains list of variant sizes carried by read
  This makes variant based analyses of alignments easier
- CIGAR for reads from inside long insertion properly handled
- Name of sample included in read
  - Can mix in viral contamination
  - Can do tumor/normal mixes


Program design changes
----------------------

- Written for Python 3
- One entry command ('mitty')
  This allows us convenient access to all mitty commands
- Better support for UNIX paradigms such as pipes and process substitution
- Better parallelization




